(this["webpackJsonpsimple-weather-app"]=this["webpackJsonpsimple-weather-app"]||[]).push([[0],{13:function(t,e,a){},32:function(t,e,a){},53:function(t,e,a){"use strict";a.r(e);var n=a(2),c=a(5),r=a.n(c),o=a(26),i=a.n(o),s=(a(32),a(3)),h=a(7),u=a(8),l=a(10),p=a(9),d=(a(13),a(15));a(34);d.a.initializeApp({apiKey:"AIzaSyAzgD0kXpjPIfhvWKOTTAPmM6nUKUH4tNI",authDomain:"ben-sarjeant-project-5.firebaseapp.com",databaseURL:"https://ben-sarjeant-project-5.firebaseio.com",projectId:"ben-sarjeant-project-5",storageBucket:"ben-sarjeant-project-5.appspot.com",messagingSenderId:"294499551721",appId:"1:294499551721:web:5cbbb09952bf2f8b72e378"});var j=d.a,b=a(16),m=a.n(b),O=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).toggleWeatherForecast=function(e){"Show Forecast"===e.target.textContent?(t.setState({showForecast:!0}),e.target.textContent="Hide Forecast"):"Hide Forecast"===e.target.textContent&&(t.setState({showForecast:!1}),e.target.textContent="Show Forecast")},t.state={showForecast:!1},t}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:this.props.weatherLoc}),Object(n.jsxs)("h3",{children:[this.props.currentWeathCondition," | ",this.props.currentWeath.temp_c,"\xb0C "]}),Object(n.jsxs)("p",{children:["Precipitation: ",this.props.currentWeath.precipText," (",this.props.currentWeath.precip_mm,"mm)"]}),Object(n.jsxs)("p",{children:["Wind: ",this.props.currentWeath.windText," (",this.props.currentWeath.wind_kph,"kph)"]}),Object(n.jsxs)("p",{children:["Humidity: ",this.props.currentWeath.humidText," (",this.props.currentWeath.humidity,"%)"]}),Object(n.jsx)("button",{className:"saveLocationButton",onClick:this.props.firebaseAddFunc,children:"Save Location"}),Object(n.jsx)("button",{onClick:this.toggleWeatherForecast,className:"showForecastButton",children:"Show Forecast"}),Object(n.jsx)("div",{className:this.state.showForecast?"show":"hide",children:this.props.forecastData.map((function(t){return Object(n.jsxs)("div",{className:"forecastDayContainer",children:[Object(n.jsx)("h3",{children:t.date}),Object(n.jsx)("h4",{children:t.day.condition.text}),Object(n.jsxs)("p",{children:["High: ",t.day.maxtemp_c,"\xb0C"]}),Object(n.jsxs)("p",{children:["Low: ",t.day.mintemp_c,"\xb0C"]}),Object(n.jsxs)("p",{children:["Precip: ",t.day.totalprecip_mm,"mm"]})]},t.date_epoch)}))})]})}}]),a}(c.Component),f=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){return Object(h.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(n.jsx)("header",{children:Object(n.jsxs)("div",{className:"wrapper headerFlexChild",children:[Object(n.jsx)("h1",{children:"Check out some weather!"}),Object(n.jsx)("i",{onClick:function(){t.props.scrollFunc()},className:"fas fa-chevron-down chevron"})]})})}}]),a}(c.Component),x=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){return Object(h.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("footer",{children:Object(n.jsx)("p",{children:"Copyright \xa9 Ben Sarjeant | Juno College "})})}}]),a}(c.Component),g=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;return Object(h.a)(this,a),(t=e.call(this)).handleInputChange=function(e){t.setState({userInput:e.target.value.charAt(0).toUpperCase()+e.target.value.slice(1)})},t.handleSubmit=function(e){e.preventDefault(),t.callWeatherAPI("".concat(t.state.userInput)),t.callUnsplashImgAPI("".concat(t.state.userInput))},t.callWeatherAPI=function(e){m()({method:"GET",url:"https://api.weatherapi.com/v1/forecast.json",dataResponse:"json",params:{key:"29c5ceb051fc45c29ac204434202611",q:e,days:3}}).then((function(e){t.filterWeatherData(e.data),t.setState({showWeather:!0})})).catch((function(t){alert("No data for that city, please try again.")}))},t.filterWeatherData=function(e){var a=e.forecast.forecastday,n=e.location.name+", "+e.location.country,c=e.current.condition.text,r=e.current,o=e.current.humidity,i=e.current.wind_kph,h=e.current.precip_mm;r=h>=20?Object(s.a)(Object(s.a)({},r),{},{precipText:"Hurricane Rain"}):h<20&h>=10?Object(s.a)(Object(s.a)({},r),{},{precipText:"Pouring"}):h<10&h>=4?Object(s.a)(Object(s.a)({},r),{},{precipText:"Raining"}):h<4&h>=.1?Object(s.a)(Object(s.a)({},r),{},{precipText:"Drizzling"}):Object(s.a)(Object(s.a)({},r),{},{precipText:"No Rain"}),r=i>=60?Object(s.a)(Object(s.a)({},r),{},{windText:"Hurricane Winds"}):i<60&i>=30?Object(s.a)(Object(s.a)({},r),{},{windText:"Windy"}):i<30&i>=15?Object(s.a)(Object(s.a)({},r),{},{windText:"Breezy"}):Object(s.a)(Object(s.a)({},r),{},{windText:"Little to no wind"}),r=o>=85?Object(s.a)(Object(s.a)({},r),{},{humidText:"Very humid"}):o<85&o>=50?Object(s.a)(Object(s.a)({},r),{},{humidText:"Humid"}):o<50&o>=15?Object(s.a)(Object(s.a)({},r),{},{humidText:"Not Very Humid"}):Object(s.a)(Object(s.a)({},r),{},{humidText:"No Humidity"}),t.setState({weatherLocation:n,currentWeatherData:r,currentConditionData:c,forecastWeatherData:a})},t.callUnsplashImgAPI=function(e){m()({method:"GET",url:"https://api.unsplash.com/search/photos",dataResponse:"json",params:{client_id:"ZxjN4qAJgh0cJ5Lz2Lm47cXNiqzVZVZ69KLm5386GtM",query:e,orientation:"landscape"}}).then((function(e){t.setState({weatherLocationBg:e.data.results[0].urls.regular})})).catch((function(t){}))},t.getAppStyle=function(){return{backgroundImage:"url(".concat(t.state.weatherLocationBg,")")}},t.scrollToWeather=function(){t.weatherSection.scrollIntoView({behavior:"smooth"})},t.storeLocation=function(){var e=j.database().ref(),a=[];t.state.locations.forEach((function(t){a.push(t.name)})),a.indexOf(t.state.userInput)>=0?alert("This city is already a stored location!"):e.push(t.state.userInput)},t.removeLocation=function(t){j.database().ref().child(t).remove()},t.loadPreviousCity=function(e){e.preventDefault(),t.setState({userInput:e.target.text}),t.callWeatherAPI(e.target.text),t.callUnsplashImgAPI(e.target.text)},t.state={locations:[],currentWeatherData:[],forecastWeatherData:[],weatherLocation:"",userInput:"",weatherLocationBg:"url(./cloudsTwo.jpg)",currentConditionData:"",showWeather:!1},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.storeUserLocationFB()}},{key:"storeUserLocationFB",value:function(){var t=this;j.database().ref().on("value",(function(e){var a=e.val(),n=[];for(var c in a){var r={id:c,name:a[c]};n.push(r)}t.setState({locations:n})}))}},{key:"render",value:function(){var t=this,e=this.getAppStyle();return Object(n.jsxs)(c.Fragment,{children:[Object(n.jsx)(f,{scrollFunc:this.scrollToWeather}),Object(n.jsx)("section",{className:"weatherMain",style:e,id:"weatherSection",ref:function(e){t.weatherSection=e},children:Object(n.jsxs)("section",{className:"requestedWeather",children:[Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:"weatherDataForm",children:[Object(n.jsx)("label",{htmlFor:"userLocation",className:"srOnly",children:"location:"}),Object(n.jsx)("input",{type:"text",id:"userLocation",name:"userLocation",placeholder:"Search for a city",onChange:this.handleInputChange}),Object(n.jsx)("button",{children:"Find Weather"})]}),Object(n.jsx)("p",{children:"Stored Locations"}),Object(n.jsx)("div",{className:"firebaseStoredLocations",children:this.state.locations.map((function(e){return Object(n.jsxs)("li",{children:[Object(n.jsx)("a",{href:"#weatherSection",onClick:t.loadPreviousCity,children:e.name}),Object(n.jsx)("button",{className:"removeButton",onClick:function(){t.removeLocation(e.id)},children:"X"})]},e.id)}))}),Object(n.jsx)("div",{className:this.state.showWeather?"weatherDataContainer":"hide",children:Object(n.jsx)(O,{weatherLoc:this.state.weatherLocation,currentWeathCondition:this.state.currentConditionData,currentWeath:this.state.currentWeatherData,bgSrc:this.state.weatherLocationBg,firebaseAddFunc:this.storeLocation,weatherForecast:this.toggleWeatherForecast,forecastData:this.state.forecastWeatherData})})]})}),Object(n.jsx)(x,{})]})}}]),a}(c.Component),w=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,54)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;a(t),n(t),c(t),r(t),o(t)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root")),w()}},[[53,1,2]]]);
//# sourceMappingURL=main.e7bdbc04.chunk.js.map